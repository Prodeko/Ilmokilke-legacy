{% extends 'ProdekoIlmoBundle:Ilmo:base.html.twig' %}

{% block title %}
	{{ parent() }} - {{ event.name }}
{% endblock %}

{% block body %}
	<div class="container">
		<div class="row">
			<div class="span9" id="title">
				<h1>{% trans %}ilmokilke{% endtrans %}</h1>
			</div>
			<div class="span3">
				<h3>{% trans %}header.event.sidebar{% endtrans %}</h3>
			</div>
		</div>
		<div id="content">
			<div class="row">
				<div class="span12">
	    			<h2 id="eventtitle">{{ event.name }}</h2>
	    				<div class="row">
    						<div class="span4">
    							<p id="eventtime">{% trans %}time{% endtrans %}: {{ event.takesPlace | date("j.n.y") }} {% trans %}time.at{% endtrans %} {{ event.takesPlace | date("G:i") }}</p>
    							<p id="eventlocation">{% trans %}location{% endtrans %}: {{ event.location }}</p>
    						</div>
    						<div class="span8">
    							<p id="registrationPeriod">{% trans %}registration.period{% endtrans %}: {{ event.registrationStarts | date("j.n.y G:i") }} - {{ event.registrationEnds | date("j.n.y G:i") }}</p>
    							<p id="registrationOpen">{% if isOpen %}{% trans %}registration.open{% endtrans %}{% else %}{% trans %}registration.not.yet.open{% endtrans %}{% endif %}</p>
    						</div>
	    				</div>
	    			
	    			<p id="eventsummary">{{ event.summary }}</p>
	    			<p id="eventdescription">{{ event.description }}</p>
	    			{% if isOpen %}<button id="eventsubscribe" class="btn" data-toggle="modal" href="#subscriptionmodal">{% trans %}register{% endtrans %}</button>
	    			<!-- Start subscription modal -->
	    			{% include 'ProdekoIlmoBundle:Ilmo:registration.html.twig' %}
	    			<!-- End subscription modal -->
	    			{% endif %}
				</div>
    		</div>
    		<div class="row">
    			<div class="span6" id="registered">
    				<h3>{% trans %}header.registrant.list{% endtrans %}</h3>
    				<table class="table table-striped table-bordered table-condensed">
    					<thead>
    						<tr>
    							<th>{% trans %}name.first{% endtrans %}</th>
    							<th>{% trans %}name.last{% endtrans %}</th>
    						</tr>
    					</thead>
    					<tbody>
			    			{% for registration in registrations %}
			    				<tr>
									<td>{{ registration.firstName }}</td>
									<td>{{ registration.lastName }}</td>
								</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
    		</div>
    	</div>
    	{% include 'ProdekoIlmoBundle:Ilmo:footer.html.twig' %}
    </div>
{% endblock %}

{% block javascripts %}
	<script src="{{ asset('js/event.js') }}"></script>
{% endblock %}
